<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ğŸ¥¤KC's ìŒë£Œìˆ˜ ìíŒê¸°ğŸ¥¤</title>
    <style>
        /* ê°„ë‹¨í•œ ìŠ¤íƒ€ì¼ë§ ì¶”ê°€ */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .options {
            display: flex;
            flex-wrap: wrap;
        }
        .drink {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            margin: 5px;
            cursor: pointer;
        }
        #changeDisplay {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>ğŸ¥¤KC's ìŒë£Œìˆ˜ ìíŒê¸°ğŸ¥¤</h1>
    <label for="moneyInput">ğŸª™Insert COINğŸª™:</label>
    <input type="number" id="moneyInput" placeholder="ëˆì„ ì…ë ¥í•˜ì„¸ìš”">
    <button onclick="displayOptions()">í™•ì¸</button>

    <div class="options" id="drinkOptions">
        <!-- ìŒë£Œ ì˜µì…˜ì€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
    </div>

    <div id="changeDisplay"></div>

    <script>
        const drinks = {
            '2%': 1300,
            'ì‚¼ë‹¤ìˆ˜': 900,
            'ì œë¡œì½œë¼': 1500,
            'ë‚˜ë‘ë“œ': 1100,
            'ë°ë¯¸ì†Œë‹¤': 1000,
            'í™˜íƒ€': 1200
        };

        let totalMoney = 0; // ì „ì²´ ê¸ˆì•¡ì„ ì €ì¥í•  ë³€ìˆ˜

        function displayOptions() {
            const money = parseInt(document.getElementById('moneyInput').value);
            const drinkContainer = document.getElementById('drinkOptions');
            drinkContainer.innerHTML = '';

            for (const [drink, price] of Object.entries(drinks)) {
                if (price <= money) {
                    const drinkButton = document.createElement('button');
                    drinkButton.classList.add('drink');
                    drinkButton.textContent = `${drink}: ${price}ì›`;

                    drinkButton.addEventListener('click', function() {
                        selectAndDispenseDrink(drink, price);
                    });

                    drinkContainer.appendChild(drinkButton);
                }
            }
        }

        function selectAndDispenseDrink(selectedDrink, price) {
            const money = parseInt(document.getElementById('moneyInput').value);
            console.log(`ì„ íƒí•œ ìŒë£Œ: ${selectedDrink}`);
            console.log(`ë„£ì€ ëˆ: ${money}`);
            const change = money - price;
            console.log(`ì”ì•¡: ${change}`);

            const changeDisplay = document.getElementById('changeDisplay');
            changeDisplay.innerHTML = `ğŸ¥¤ì„ íƒí•œ ìŒë£Œ: ${selectedDrink}<br>ğŸª™ë‚¨ì€ ì”ì•¡: ${change}ì›`;

            askForMore(change);
        }

        function askForMore(change) {
            const result = confirm(`ë‚¨ì€ ì”ì•¡ìœ¼ë¡œ ìŒë£Œë¥¼ í•œ ë²ˆ ë” ì„ íƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`);
            
            if (result) {
                totalMoney += parseInt(document.getElementById('moneyInput').value); // ì´ì „ ê¸ˆì•¡ì„ ì €ì¥
                displayOptions();
            } else {
                const changeDisplay = document.getElementById('changeDisplay');
                const remaining = totalMoney + parseInt(document.getElementById('moneyInput').value); // ì´ì „ ê¸ˆì•¡ì„ í¬í•¨í•œ ì „ì²´ ê¸ˆì•¡ ê³„ì‚°
                changeDisplay.innerHTML = `í˜„ì¬ ê¸ˆì•¡: ì „ì²´ ê¸ˆì•¡<br>ì „ì²´ ê¸ˆì•¡: ${remaining}ì›`; // ì „ì²´ ê¸ˆì•¡ í‘œì‹œ
            }
        }

        document.getElementById('moneyInput').addEventListener('input', displayOptions);

        function askForMore(change) {
            const result = confirm(`ë‚¨ì€ ì”ì•¡ìœ¼ë¡œ ìŒë£Œë¥¼ í•œ ë²ˆ ë” ì„ íƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`);
            
            if (result) {
                totalMoney += parseInt(document.getElementById('moneyInput').value); // ì´ì „ ê¸ˆì•¡ì„ ì €ì¥
                displayOptions();
            } else {
                const changeDisplay = document.getElementById('changeDisplay');
                const remaining = totalMoney + parseInt(document.getElementById('moneyInput').value); // ì´ì „ ê¸ˆì•¡ì„ í¬í•¨í•œ ì „ì²´ ê¸ˆì•¡ ê³„ì‚°
                changeDisplay.innerHTML = `í˜„ì¬ ê¸ˆì•¡: ì „ì²´ ê¸ˆì•¡<br>ì „ì²´ ê¸ˆì•¡: ${remaining}ì›`; // ì „ì²´ ê¸ˆì•¡ í‘œì‹œ
                
                // ìƒˆë¡œìš´ ìŒë£Œ ì„ íƒ ë²„íŠ¼ ì¶”ê°€
                const newButton = document.createElement('button');
                newButton.textContent = "ìƒˆë¡œìš´ ìŒë£Œ ì„ íƒ";
                newButton.onclick = displayOptions; // í´ë¦­ ì‹œ ìŒë£Œ ì„ íƒ ì˜µì…˜ í‘œì‹œ
                changeDisplay.appendChild(newButton);
            }
        }
    </script>
</body>
</html>
